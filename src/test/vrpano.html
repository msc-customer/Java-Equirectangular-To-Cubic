<html>
    <head>
        <title>
            Test of Bigshot VRPanorama
        </title>
        <style>
            h2 {
                font-family: Arial;
                font-size: 14pt;
            }
            
            td.playerContainer {
                padding:8px;
            }
            
            td.playerContainerLeft {
                border-right: 1px solid #b8b8b8;
            }
        </style>
        <script src="../js/webgl/webgl-debug.js"></script>
        <script src="../js/webgl/sylvester.js"></script>
        <script src="../js/webgl/glUtils.js"></script>
        <script src="../js/bigshot.js">/* */</script>
        <script src="../../tools/SaladoPlayer/embed/swfobject.js">/* */</script>
        <script>
            var bvr = null;
            
            function vrpano () {
                bvr = new bigshot.VRPanorama (
                    new bigshot.ImageParameters ({
                            container : document.getElementById ("canvas"),
                            basePath : "../../temp/vr.bigshot",
                            fileSystemType : "dzi"
                        }));
                bvr.autoRotateWhenIdle (3);
                bvr.autoResizeContainer (document.getElementById ("container"));
                bvr.onresize ();
                bvr.render ();
            }
            
            var frame = 0;
            
            function redraw () {
                bvr.render ();
            }
            
            function autorotate () {
                bvr.autoRotate ();
            }
            
            function fullScreen () {
                bvr.fullScreen ();
            }
            
            function setupWithFallback (containerName) {
                var canvas = document.createElement ("canvas");
                if (!canvas.width || !canvas.getContext ("webgl-experimental")) {
                    
                } else {
                    setupSaladoPlayer (containerName);
                }
            }
        </script>
        <script type="text/javascript">
            function setupSaladoPlayer (containerName, xml, pathToSaladoPlayerSwf, pathToExpressInstall) {
                var flashvars = {};
                flashvars.xml = xml;
                
                var params = {};
                params.play = "true";
                params.loop = "false";
                params.menu = "false";
                params.quality = "high";
                params.scale = "showall";
                params.wmode = "window";
                params.bgcolor = "#FFFFFF";
                params.devicefont = "false";
                params.allowfullscreen = "true";
                params.allowscriptaccess = "sameDomain";
                var attributes = {};
                swfobject.embedSWF(
                    pathToSaladoPlayerSwf, containerName, "100%", "480", "10.0.0", 
                    pathToExpressInstall, flashvars, params, attributes);
            }
        </script>
    </head>
    <body onload="vrpano(); setupSaladoPlayer ('SaladoPlayer', 'saladoplayer.xml', '../../tools/SaladoPlayer/SaladoPlayer.swf', '../../tools/SaladoPlayer/embed/expressInstall.swf');">
        <table width="100%">
            <tr>
                <td class="playerContainer playerContainerLeft" width="50%"  valign="top">
                    <h2>
                        Bigshot VR
                    </h2>
                    <div style="background:black; height:480px; width:100%;" id="container">
                        <canvas id="canvas" width="480" height="480">
                            This demo requires a web browser that supports HTML5 canvas and WebGL.
                        </canvas>
                    </div>
                    <a href="#" onclick="redraw()"><button type="button">Redraw</button></a>
                    <a href="#" onclick="autorotate()"><button type="button">Autorotate</button></a>
                    <a href="#" onclick="fullScreen()"><button type="button">Fullscreen</button></a>
                </td>
                <td class="playerContainer" width="50%" valign="top">
                    <h2>
                        Salado Player
                    </h2>
                    <div class="centered_div">
                        <div id="SaladoPlayer">
                            <a href="http://www.adobe.com/go/getflashplayer">
                                <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />
                            </a>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </body>
</html>