<!--
- Copyright 2010 Leo Sutic <leo.sutic@gmail.com>
-  
- Licensed under the Apache License, Version 2.0 (the "License"); 
- you may not use this file except in compliance with the License. 
- You may obtain a copy of the License at 
- 
-     http://www.apache.org/licenses/LICENSE-2.0 
-     
- Unless required by applicable law or agreed to in writing, software 
- distributed under the License is distributed on an "AS IS" BASIS, 
- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
- See the License for the specific language governing permissions and 
- limitations under the License. 
-->
<html>
    <head>
        <title>
            Bigshot Test Page
        </title>
        <style>
            body {
                font-family: Arial;
                font-size: 9pt;
            }
            
            div.bigshotContainer {
                border:1px solid black; 
                background: red; 
            }
            
            div.bigshotContainer div.hotspot, div.bigshotContainer div.bigshotControls {
                visibility:hidden;
            }
            
            div.bigshotControls {
                position:relative; 
                left:-50%; 
                top: 540px; 
                padding: 16px; 
                z-index:2; 
                background: #606060;
                border: 2px solid #404040;
                -moz-border-radius: 15px;
                -webkit-border-radius: 15px;
                border-radius: 15px;
                color: white;
            }
            
            div.bigshotControls p {
                margin: 0px;
            }
            
            div.bigshotControls a {
                color: white;
            }
            
            div.bigshotContainer:hover div.hotspot {
                border : 1px solid #e0e0e0;
                cursor : pointer;
                opacity : 0.5;
                visibility: visible;
            }
            
            div.bigshotContainer:hover div.bigshotControls {
                visibility: visible;
            }
            
            div.hotspot div.label {
                visibility: hidden;
                color: white;
                background: black;
                padding: 4px;
                font-weight: bold;
                position: relative;
            }
            
            div.bigshotContainer:hover div.hotspot:hover {
                border : 1px solid white;
                opacity : 1.0;
            }
            
            div.hotspot:hover div.label {
                visibility: visible;
            }
        </style>
        <script src="../js/bigshot.js">/* */</script>
        <script>
            var jsi = null;
            
            function myonload () {
                var container = document.getElementById ("container");
                
                jsi = new bigshot.ImageFromDescriptor ({ 
                        /*width : 7352,
                        height: 5419,
                        minZoom : -11.0,
                        tileSize : 256,
                        overlap : 0,
                        posterSize : 512.0,*/
                        basePath : "/bigshot.php?file=temp/image.bigshot",
                        fileSystemType : "archive",
                        container : container/*,
                        emptyImage : "empty.png",
                        wrapX : false,
                        wrapY : false*/
                    });
                
                var layerContainer = jsi.createLayerContainer ();
                var hotspotLayer = new bigshot.HotspotLayer (container, layerContainer);
                var hotspot = new bigshot.LinkHotspot (100, 100, 200, 100, "Bigshot on Google Code", "http://code.google.com/p/bigshot/");
                hotspot.getElement ().className = "hotspot";
                hotspot.getLabel ().className = "label";
                
                hotspotLayer.addHotspot (hotspot);
                jsi.addLayer (hotspotLayer, layerContainer);
                jsi.setZoom (0.0);
            }
            
            function zoomOut () {
                jsi.setZoom (jsi.getZoom () - 0.1);
            }
            
            function zoomIn () {
                jsi.setZoom (jsi.getZoom () + 0.1);
            }
            
            function smoothIn () {
                jsi.flyTo (7352 / 2, 5419 / 2, 0.0);
            }
            
            function toHotspot () {
                jsi.flyTo (200, 150, jsi.rectVisibleAtZoomLevel (200,100));
            }
            
            function fullScreen () {
                var span = document.getElementById ("fullscreen");
                var container = document.getElementById ("container");
                span.style.visibility = "hidden";
                jsi.fullScreen (function () {
                        span.style.visibility = "inherit";
                    });
            }
        </script>
    </head>
    <body onload="myonload();" onresize="jsi.onresize ();">
        <div style="position: relative; overflow:hidden; height:600px;" id="container" class="bigshotContainer">
            <div style="position:absolute; left:50%;">
                <div class="bigshotControls">
                    <p>
                    <a href="#" onclick="zoomOut(); return false;">-</a> | 
                    <a href="#" onclick="zoomIn(); return false;">+</a> | 
                    <a href="#" onclick="smoothIn(); return false;">Zoom in on center</a> | 
                    <a href="#" onclick="toHotspot(); return false;">Pan to hotspot</a> |
                    <a href="#" onclick="jsi.flyZoomToFitWidth (); return false;">Zoom to Fit</a><span id="fullscreen"> |
                    <a href="#" onclick="fullScreen (); return false;">Fullscreen</a></span>
                    </p>
                </div>
            </div>
        </div>
        
        
        
    </body>
</html>